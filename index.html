<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Color Toggle Button</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Use a standard and reliable CDN for React modules -->
    <script type="importmap">
      {
        "imports": {
          "react": "https://esm.sh/react@18.3.1",
          "react-dom/client": "https://esm.sh/react-dom@18.3.1/client"
        }
      }
    </script>
    <!-- Load Babel to transpile JSX in the browser -->
    <script src="https://unpkg.com/@babel/standalone@7.24.9/babel.min.js"></script>
  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>
    <!-- 
      All application code is now inside this script tag.
      'type="text/babel"' tells Babel to transpile it before running.
      This allows using JSX and modern JS features directly in the browser
      without a separate build step.
    -->
    <script type="text/babel" data-type="module">
      import React, { useState } from 'react';
      import { createRoot } from 'react-dom/client';

      // The App component, previously in App.tsx
      const App = () => {
        // State to track the button's color. `true` for green, `false` for red.
        const [isGreen, setIsGreen] = useState(true);

        // Handler to toggle the color state when the button is clicked.
        const handleToggleClick = () => {
          setIsGreen(prevState => !prevState);
        };

        // Base classes for the button for consistent styling.
        const buttonBaseClasses = 'text-white font-bold py-6 px-12 rounded-full text-3xl shadow-2xl transform transition-all duration-300 ease-in-out focus:outline-none focus:ring-8 active:scale-95';

        // Dynamic classes that change based on the `isGreen` state.
        const buttonColorClasses = isGreen
          ? 'bg-green-500 hover:bg-green-600 focus:ring-green-300'
          : 'bg-red-500 hover:bg-red-600 focus:ring-red-300';

        return (
          // A full-screen container using flexbox to center the button perfectly.
          // The dark background makes the button colors pop.
          <main className="bg-gray-900 min-h-screen flex items-center justify-center antialiased">
            <button
              onClick={handleToggleClick}
              className={`${buttonBaseClasses} ${buttonColorClasses}`}
              aria-label={isGreen ? 'Change color to red' : 'Change color to green'}
            >
              Push Me
            </button>
          </main>
        );
      };

      // The rendering logic, previously in index.tsx
      const rootElement = document.getElementById('root');
      if (!rootElement) {
        throw new Error("Could not find root element to mount to");
      }

      const root = createRoot(rootElement);
      root.render(
        <React.StrictMode>
          <App />
        </React.StrictMode>
      );
    </script>
  </body>
</html>