<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Color Toggle Button</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <style>
    body {
      background-color: #111827; /* bg-gray-900 */
    }
    .parallax > use {
      animation: move-forever 3s linear infinite;
    }
    
    @keyframes move-forever {
      0% {
        transform: translate3d(-100px, 0, 0);
      }
      100% {
        transform: translate3d(0, 0, 0);
      }
    }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState } = React;

    function App() {
      const [isGreen, setIsGreen] = useState(true);
      const [count, setCount] = useState(0);
      const [wineType, setWineType] = useState('red'); // 'red' or 'white'

      const wineColors = {
        red: '#8B0000', // DarkRed
        white: '#F5DEB3' // Wheat
      };

      const handleClick = () => {
        setIsGreen(!isGreen);
        setCount(prevCount => Math.min(prevCount + 1, 30));
      };
      
      const handleReset = () => {
        setIsGreen(true);
        setCount(0);
      };

      const fillPercentage = count / 30;
      // Define the top and bottom Y coordinates of the fillable area.
      const glassBowlTop = 6;
      const glassBowlBottom = 75;
      const travelDistance = glassBowlBottom - glassBowlTop;
      // Calculate the water's Y position. It starts at the bottom and moves up.
      const waterYPosition = glassBowlBottom - (travelDistance * fillPercentage);

      return (
        <div className="relative w-screen h-screen overflow-hidden flex flex-col justify-around items-center p-4">
          
          <h1 className="text-7xl font-bold text-white" style={{ textShadow: '2px 2px 4px rgba(0,0,0,0.5)' }}>
            {count}
          </h1>

          <div className="w-52 h-80 relative">
            <svg viewBox="0 0 100 150" className="w-full h-full">
              <defs>
                <clipPath id="glass-mask">
                  {/* This path defines the inner area of the glass bowl */}
                  <path d="M28,6 C28,35 35,68 50,75 C65,68 72,35 72,6 Z" />
                </clipPath>
                
                {/* Taller wave path with shorter wavelength */}
                <path id="gentle-wave" d="M-160 5c15 0 25-5 50-5s25 5 50 5s25-5 50-5s25 5 50 5s25-5 50-5s25 5 50 5s25-5 50-5s25 5 50 5v150h-400z" />
              </defs>

              {/* The water that fills the glass, clipped by the mask */}
              <g clipPath="url(#glass-mask)">
                <g className="parallax" transform={`translate(0, ${waterYPosition})`}>
                  <use xlinkHref="#gentle-wave" x="48" y="0" fill={wineColors[wineType]} />
                </g>
              </g>
              
              {/* The glass shape itself - simplified */}
              <path
                d="M 25,5 H 75 C 75,35 70,68 50,75 C 30,68 25,35 25,5 Z M 50,75 V 130 M 30,140 H 70 C 65,132 35,132 30,140 Z"
                fill="rgba(255, 255, 255, 0.1)"
                stroke="rgba(255, 255, 255, 0.3)"
                strokeWidth="0.75"
              />

            </svg>
          </div>

          <div className="flex flex-col items-center">
            <div className="mb-4 flex space-x-4">
              <button
                onClick={() => setWineType('red')}
                className={`px-4 py-2 rounded-full text-sm font-semibold transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 focus:ring-white ${
                  wineType === 'red' ? 'bg-red-900 text-white' : 'bg-gray-700 text-gray-300 hover:bg-gray-600'
                }`}
              >
                Red Wine
              </button>
              <button
                onClick={() => setWineType('white')}
                className={`px-4 py-2 rounded-full text-sm font-semibold transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 focus:ring-white ${
                  wineType === 'white' ? 'bg-amber-200 text-amber-900' : 'bg-gray-700 text-gray-300 hover:bg-gray-600'
                }`}
              >
                White Wine
              </button>
            </div>
            
            <button
              onClick={handleClick}
              className={`w-40 h-40 rounded-full text-white text-2xl font-bold shadow-lg transform transition-transform duration-200 active:scale-95 focus:outline-none focus:ring-4 focus:ring-opacity-50 ${
                count >= 30 
                  ? 'bg-gray-600 cursor-not-allowed'
                  : isGreen
                    ? 'bg-green-500 hover:bg-green-600 focus:ring-green-400'
                    : 'bg-red-500 hover:bg-red-600 focus:ring-red-400'
              }`}
              disabled={count >= 30}
            >
              Push Me
            </button>
            <button
              onClick={handleReset}
              className="mt-6 px-6 py-2 rounded-full text-gray-400 border border-gray-600 hover:text-white hover:bg-gray-700 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500"
            >
              Reset
            </button>
          </div>
        </div>
      );
    }

    const container = document.getElementById('root');
    const root = ReactDOM.createRoot(container);
    root.render(<App />);
  </script>
</body>
</html>